<Qucs Schematic 25.1.0>
<Properties>
  <View=-86,-71,1301,1288,1.00245,0,0>
  <Grid=10,10,1>
  <DataSet=Simple_OTA.dat>
  <DataDisplay=Simple_OTA.dpl>
  <OpenDisplay=0>
  <Script=Simple_OTA_v2.m>
  <RunScript=0>
  <showFrame=0>
  <FrameText0=Simulation of the simple 5T OTA>
  <FrameText1=Drawn By: Christian Enz>
  <FrameText2=Date: 12.08.2025>
  <FrameText3=Revision: 1>
</Properties>
<Symbol>
  <.ID -20 -16 SUB>
  <Line -20 20 40 0 #000080 2 1>
  <Line 20 20 0 -40 #000080 2 1>
  <Line -20 -20 40 0 #000080 2 1>
  <Line -20 20 0 -40 #000080 2 1>
</Symbol>
<Components>
  <SpiceInclude SpiceInclude1 1 170 170 -31 18 0 0 "ekv018va.par" 1 "size_bias.par" 1 "" 0 "" 0 "" 0>
  <GND * 1 810 310 0 0 0 0>
  <C CL 1 810 260 17 -26 0 1 "{CL}" 1 "" 0 "neutral" 0>
  <MOS_SPICE M1a 1 590 260 6 -23 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W1} L={L1}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M1b 1 690 260 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W1} L={L1}" 0 "" 0 "" 0 "" 0 "" 0>
  <Idc Ib 1 450 160 -56 -26 0 3 "{2*Ib}" 1>
  <MOS_SPICE M2b 1 690 160 5 7 1 0 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M2a 1 590 160 -26 9 0 2 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M3b 1 640 380 5 -20 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W3} L={L3}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M3a 1 450 380 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W3} L={L3}" 0 "" 0 "" 0 "" 0 "" 0>
  <GND * 1 640 440 0 0 0 0>
  <VCVS SRC1 1 690 530 39 -15 0 0 "-0.5" 1 "0" 0>
  <VCVS SRC2 1 590 530 -69 -15 1 2 "0.5" 1 "0" 0>
  <GND * 1 640 660 0 0 0 0>
  <GND * 1 640 560 0 0 0 0>
  <GND * 1 430 620 0 0 0 0>
  <Vdc VDD 1 890 270 18 -26 0 1 "{VDD}" 1>
  <Vac Vin 1 430 510 18 -26 0 1 "1 V" 1 "1 kHz" 0 "0" 0 "0" 0 "0" 0 "0" 0>
  <Vdc Vid 1 430 590 18 -26 0 1 "{Vos}" 1>
  <Vdc Vic 1 640 630 18 -26 0 1 "{Vic}" 1>
  <.SW SW1 1 80 820 0 54 0 0 "DC1" 1 "lin" 1 "Vid" 1 "-0.9" 1 "0.9" 1 "1001" 1>
  <.DC DC1 1 80 740 0 33 0 0 "26.85" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "yes" 0 "150" 0 "no" 0 "none" 0 "CroutLU" 0>
  <.AC AC1 1 80 1020 0 33 0 0 "log" 1 "1 Hz" 1 "100 MEG" 1 "809" 0 "yes" 1>
  <Eqn Eqn1 1 110 1160 -31 17 0 0 "Gain_dB=dB(out.v/id.v)" 1 "Phase=(cph(out.v)-cph(id.v))*180/pi" 1 "yes" 0>
  <.DC DC2 1 660 740 0 33 0 0 "26.85" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "yes" 0 "150" 0 "no" 0 "none" 0 "CroutLU" 0>
  <.SW SW2 1 660 820 0 54 0 0 "DC2" 1 "lin" 1 "Vid" 1 "-400E-6" 1 "400E-6" 1 "1001" 1>
  <.NOISE NOISE1 1 660 1030 0 54 0 0 "log" 1 "1 Hz" 1 "100 MHz" 1 "809" 0 "v(out)" 1 "Vin" 1>
</Components>
<Wires>
  <810 290 810 310 "" 0 0 0 "">
  <590 290 590 310 "" 0 0 0 "">
  <810 210 810 230 "" 0 0 0 "">
  <690 210 810 210 "out" 770 180 65 "">
  <690 290 690 310 "" 0 0 0 "">
  <690 210 690 230 "" 0 0 0 "">
  <690 190 690 210 "" 0 0 0 "">
  <450 110 450 130 "" 0 0 0 "">
  <590 110 590 130 "" 0 0 0 "">
  <450 110 570 110 "" 0 0 0 "">
  <570 110 590 110 "" 0 0 0 "">
  <570 110 570 160 "" 0 0 0 "">
  <590 110 690 110 "vdd" 660 80 53 "">
  <690 110 690 130 "" 0 0 0 "">
  <690 110 710 110 "" 0 0 0 "">
  <710 110 710 160 "" 0 0 0 "">
  <590 190 590 210 "" 0 0 0 "">
  <590 210 590 230 "" 0 0 0 "">
  <590 210 640 210 "" 0 0 0 "">
  <620 160 640 160 "n2" 640 130 9 "">
  <640 160 660 160 "" 0 0 0 "">
  <640 160 640 210 "" 0 0 0 "">
  <590 310 610 310 "" 0 0 0 "">
  <610 260 610 310 "" 0 0 0 "">
  <670 310 690 310 "" 0 0 0 "">
  <670 260 670 310 "" 0 0 0 "">
  <610 310 640 310 "n1" 630 280 12 "">
  <640 310 670 310 "" 0 0 0 "">
  <640 310 640 350 "" 0 0 0 "">
  <640 410 640 430 "" 0 0 0 "">
  <450 410 450 430 "" 0 0 0 "">
  <660 380 660 430 "" 0 0 0 "">
  <640 430 660 430 "" 0 0 0 "">
  <430 380 430 430 "" 0 0 0 "">
  <430 430 450 430 "" 0 0 0 "">
  <480 380 500 380 "" 0 0 0 "">
  <450 430 640 430 "" 0 0 0 "">
  <640 430 640 440 "" 0 0 0 "">
  <500 330 500 380 "" 0 0 0 "">
  <450 190 450 330 "" 0 0 0 "">
  <450 330 450 350 "" 0 0 0 "">
  <450 330 500 330 "" 0 0 0 "">
  <560 560 560 600 "" 0 0 0 "">
  <560 600 640 600 "" 0 0 0 "">
  <720 560 720 600 "" 0 0 0 "">
  <640 600 720 600 "ic" 700 570 39 "">
  <620 560 640 560 "" 0 0 0 "">
  <640 560 660 560 "" 0 0 0 "">
  <620 500 640 500 "" 0 0 0 "">
  <640 500 660 500 "" 0 0 0 "">
  <640 480 640 500 "" 0 0 0 "">
  <430 480 640 480 "id" 610 450 149 "">
  <430 540 430 560 "id0" 460 520 11 "">
  <560 260 560 500 "inp" 520 280 49 "">
  <720 260 720 500 "inn" 750 280 51 "">
  <660 430 890 430 "" 0 0 0 "">
  <890 300 890 430 "" 0 0 0 "">
  <710 110 890 110 "" 0 0 0 "">
  <890 110 890 240 "" 0 0 0 "">
  <500 380 610 380 "n3" 590 350 77 "">
</Wires>
<Diagrams>
  <Rect 300 940 285 200 3 #c0c0c0 1 00 0 -1 0.2 1 0 0 0.2 1.8 1 -1 0.5 1 315 0 225 0 0 0 "Vid [V]" "Vout [V]" "">
	<"ngspice/sw1.v(out)@sw1.v(v-sweep)" #ff0000 2 3 0 0 0>
  </Rect>
  <Rect 286 1201 301 201 3 #c0c0c0 1 11 1 1 1 1e+08 0 0.01 1 10000 0 -180 45 0 315 0 225 1 1 0 "Frequency [Hz]" "Gain [dB]" "Phase [degre]">
	<"ngspice/ac1.ac.v(out)@ac1.frequency" #ff0000 2 3 0 0 0>
	  <Mkr 1 130 -222 3 0 0>
	  <Mkr 1.12074e+06 18 -56 3 0 0>
	<"ngspice/ac1.ac.phase@ac1.frequency" #0000ff 2 3 0 0 1>
  </Rect>
  <Rect 860 940 271 200 3 #c0c0c0 1 00 1 -0.0004 0.0002 0.0004 0 0.6 0.1 1.4 1 -1 0.5 1 315 0 225 0 0 0 "Vid [V]" "Vout [V]" "">
	<"ngspice/sw2.v(out)@sw2.v(v-sweep)" #ff0000 2 3 0 0 0>
	  <Mkr 2.9697e-18 196 -135 3 0 0>
  </Rect>
  <Rect 854 1199 282 199 3 #c0c0c0 1 11 1 1 1 1e+08 1 1e-08 1 0.0001 1 -1 0.5 1 315 0 225 1 0 0 "Frequency [Hz]" "Input Referred Noise [V/sqrt(Hz)]" "">
	<"ngspice/noise1.ac.inoise_spectrum@noise1.frequency" #ff0000 2 3 0 0 0>
	  <Mkr 1 60 -219 3 0 0>
	  <Mkr 1.937e+06 92 -150 3 0 0>
  </Rect>
</Diagrams>
<Paintings>
  <Text 360 10 12 #000000 0 "This example shows the schematic and simulation of the simple 5 transistors OTA.\nThe OTA has been designed in the corresponding Quarto notebook.">
</Paintings>
