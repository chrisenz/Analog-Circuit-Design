<Qucs Schematic 25.1.0>
<Properties>
  <View=-231,-40,1290,1358,0.948302,0,0>
  <Grid=10,10,1>
  <DataSet=Folded_cascode_OTA.dat>
  <DataDisplay=Folded_cascode_OTA.dpl>
  <OpenDisplay=0>
  <Script=Simple_OTA_v2.m>
  <RunScript=0>
  <showFrame=0>
  <FrameText0=Simulation of the simple 5T OTA>
  <FrameText1=Drawn By: Christian Enz>
  <FrameText2=Date: 12.08.2025>
  <FrameText3=Revision: 1>
</Properties>
<Symbol>
  <.ID -20 -16 SUB>
  <Line -20 20 40 0 #000080 2 1>
  <Line 20 20 0 -40 #000080 2 1>
  <Line -20 -20 40 0 #000080 2 1>
  <Line -20 20 0 -40 #000080 2 1>
</Symbol>
<Components>
  <SpiceInclude SpiceInclude1 1 160 90 -31 18 0 0 "ekv018va.par" 1 "size_bias.par" 1 "" 0 "" 0 "" 0>
  <Vac Vin 1 300 590 18 -26 0 1 "1 V" 1 "1 kHz" 0 "0" 0 "0" 0 "0" 0 "0" 0>
  <VCVS SRC2 1 580 610 39 -15 0 0 "-0.5" 1 "0" 0>
  <VCVS SRC1 1 480 610 -69 -15 1 2 "0.5" 1 "0" 0>
  <Vdc Vic 1 530 710 18 -26 0 1 "{Vic}" 1>
  <GND * 1 530 740 0 0 0 0>
  <GND * 1 530 640 0 0 0 0>
  <Vdc Vid 1 300 670 18 -26 0 1 "{Vos}" 1>
  <GND * 1 300 700 0 0 0 0>
  <C CL 1 1050 400 17 -26 0 1 "{CL}" 1 "" 0 "neutral" 0>
  <Idc Ib1 1 300 140 -66 -17 0 3 "{2*Ib1}" 1>
  <GND * 1 530 510 0 0 0 0>
  <Vdc Vb1 1 890 480 18 -26 0 1 "{Vb1}" 1>
  <Vdc Vb2 1 970 480 18 -26 0 1 "{Vb2}" 1>
  <Vdc VDD 1 1120 310 18 -26 0 1 "{VDD}" 1>
  <Idc Ib2 1 390 480 -62 -17 0 3 "{Ib2}" 1>
  <MOS_SPICE M1a 1 480 280 6 -23 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W1} L={L1}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M1b 1 580 280 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W1} L={L1}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M2a 1 390 140 -26 9 0 2 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M2b 1 670 140 -28 7 0 2 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M2c 1 810 140 5 7 1 0 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M3a 1 670 480 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W3} L={L3}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M3b 1 810 480 5 -20 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W3} L={L3}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M4a 1 670 260 -26 9 0 2 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W4} L={L4}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M4b 1 810 260 5 7 1 0 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W4} L={L4}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M5a 1 670 380 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W5} L={L5}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M5b 1 810 380 5 -20 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W5} L={L5}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M7a 1 300 410 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W7} L={L7}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M7b 1 530 410 5 -20 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W7} L={L7}" 0 "" 0 "" 0 "" 0 "" 0>
  <GND * 1 530 280 0 0 0 0>
  <.DC DC1 1 90 810 0 33 0 0 "26.85" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "yes" 0 "150" 0 "no" 0 "none" 0 "CroutLU" 0>
  <.DC DC2 1 670 810 0 33 0 0 "26.85" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "yes" 0 "150" 0 "no" 0 "none" 0 "CroutLU" 0>
  <.NOISE NOISE1 1 670 1100 0 54 0 0 "log" 1 "1 Hz" 1 "100 MHz" 1 "809" 0 "v(out)" 1 "Vin" 1>
  <Eqn Eqn1 1 70 1210 -31 17 0 0 "Gain_dB=dB(out.v/id.v)" 1 "Phase=(cph(out.v)-cph(id.v))*180/pi" 1 "yes" 0>
  <.AC AC1 1 40 1070 0 33 0 0 "log" 1 "0.1 Hz" 1 "100 MEG" 1 "910" 0 "yes" 1>
  <.SW SW1 1 90 880 0 54 0 0 "DC1" 1 "lin" 1 "Vid" 1 "-0.9" 1 "0.9" 1 "1001" 1>
  <.SW SW2 1 670 880 0 54 0 0 "DC2" 1 "lin" 1 "Vid" 1 "-5E-6" 1 "5E-6" 1 "1001" 1>
</Components>
<Wires>
  <740 260 740 330 "" 0 0 0 "">
  <810 290 810 310 "" 0 0 0 "">
  <700 260 740 260 "" 0 0 0 "">
  <740 260 780 260 "" 0 0 0 "">
  <480 310 480 330 "" 0 0 0 "">
  <580 310 580 330 "" 0 0 0 "">
  <480 330 530 330 "n1" 490 300 33 "">
  <610 280 610 580 "inn" 580 350 78 "">
  <450 280 450 580 "inp" 480 350 82 "">
  <300 560 530 560 "id" 520 530 188 "">
  <510 580 530 580 "" 0 0 0 "">
  <530 580 550 580 "" 0 0 0 "">
  <530 560 530 580 "" 0 0 0 "">
  <480 190 480 250 "" 0 0 0 "">
  <670 190 670 230 "" 0 0 0 "">
  <450 640 450 680 "" 0 0 0 "">
  <450 680 530 680 "" 0 0 0 "">
  <610 640 610 680 "" 0 0 0 "">
  <530 680 610 680 "ic" 590 650 39 "">
  <510 640 530 640 "" 0 0 0 "">
  <530 640 550 640 "" 0 0 0 "">
  <300 620 300 640 "id0" 330 600 1 "">
  <480 190 670 190 "n4" 580 160 83 "">
  <580 210 580 250 "" 0 0 0 "">
  <810 210 810 230 "" 0 0 0 "">
  <580 210 810 210 "n5" 770 180 159 "">
  <530 330 580 330 "" 0 0 0 "">
  <530 330 530 380 "" 0 0 0 "">
  <810 310 1050 310 "out" 970 280 141 "">
  <1050 310 1050 370 "" 0 0 0 "">
  <810 310 810 350 "" 0 0 0 "">
  <670 290 670 320 "" 0 0 0 "">
  <330 410 350 410 "" 0 0 0 "">
  <350 360 350 410 "" 0 0 0 "">
  <300 360 300 380 "" 0 0 0 "">
  <300 360 350 360 "" 0 0 0 "">
  <350 410 500 410 "n8" 430 380 47 "">
  <700 380 740 380 "" 0 0 0 "">
  <670 170 670 190 "" 0 0 0 "">
  <810 170 810 210 "" 0 0 0 "">
  <300 170 300 360 "" 0 0 0 "">
  <830 110 830 140 "" 0 0 0 "">
  <370 110 390 110 "" 0 0 0 "">
  <370 110 370 140 "" 0 0 0 "">
  <420 140 440 140 "" 0 0 0 "">
  <440 140 440 190 "" 0 0 0 "">
  <390 170 390 190 "" 0 0 0 "">
  <390 190 440 190 "" 0 0 0 "">
  <300 110 370 110 "" 0 0 0 "">
  <650 110 670 110 "" 0 0 0 "">
  <650 110 650 140 "" 0 0 0 "">
  <700 140 740 140 "" 0 0 0 "">
  <740 140 780 140 "" 0 0 0 "">
  <740 90 740 140 "" 0 0 0 "">
  <440 90 740 90 "n2" 610 60 145 "">
  <440 90 440 140 "" 0 0 0 "">
  <280 410 280 510 "" 0 0 0 "">
  <550 410 550 510 "" 0 0 0 "">
  <670 320 670 350 "" 0 0 0 "">
  <670 320 720 320 "" 0 0 0 "">
  <720 320 720 480 "" 0 0 0 "">
  <830 380 830 480 "" 0 0 0 "">
  <810 410 810 450 "n7" 840 390 3 "">
  <650 380 650 480 "" 0 0 0 "">
  <670 410 670 450 "n6" 700 390 3 "">
  <390 190 390 450 "" 0 0 0 "">
  <740 330 970 330 "" 0 0 0 "">
  <970 330 970 450 "vb2" 1000 330 21 "">
  <700 480 720 480 "" 0 0 0 "">
  <890 510 970 510 "" 0 0 0 "">
  <720 480 780 480 "n3" 770 450 32 "">
  <970 510 1050 510 "" 0 0 0 "">
  <1050 430 1050 510 "" 0 0 0 "">
  <530 510 550 510 "" 0 0 0 "">
  <530 440 530 510 "" 0 0 0 "">
  <390 510 530 510 "" 0 0 0 "">
  <280 510 300 510 "" 0 0 0 "">
  <300 510 390 510 "" 0 0 0 "">
  <300 440 300 510 "" 0 0 0 "">
  <550 510 650 510 "" 0 0 0 "">
  <890 430 890 450 "" 0 0 0 "">
  <740 380 780 380 "" 0 0 0 "">
  <740 380 740 430 "" 0 0 0 "">
  <740 430 890 430 "vb1" 900 390 124 "">
  <1050 510 1120 510 "" 0 0 0 "">
  <1120 340 1120 510 "" 0 0 0 "">
  <830 110 1120 110 "" 0 0 0 "">
  <1120 110 1120 280 "" 0 0 0 "">
  <390 110 650 110 "" 0 0 0 "">
  <670 110 810 110 "vdd" 770 80 82 "">
  <650 140 650 260 "" 0 0 0 "">
  <810 110 830 110 "" 0 0 0 "">
  <830 140 830 260 "" 0 0 0 "">
  <670 510 810 510 "" 0 0 0 "">
  <650 510 670 510 "" 0 0 0 "">
  <650 480 650 510 "" 0 0 0 "">
  <810 510 830 510 "" 0 0 0 "">
  <830 510 890 510 "" 0 0 0 "">
  <830 480 830 510 "" 0 0 0 "">
  <500 280 530 280 "" 0 0 0 "">
  <530 280 560 280 "" 0 0 0 "">
</Wires>
<Diagrams>
  <Rect 310 1010 285 200 3 #c0c0c0 1 00 0 -1 0.2 1 0 0 0.2 1.8 1 -1 0.5 1 315 0 225 0 0 0 "Vid [V]" "Vout [V]" "">
	<"ngspice/sw1.v(out)@sw1.v(id)" #ff0000 2 3 0 0 0>
  </Rect>
  <Rect 296 1271 301 201 3 #c0c0c0 1 11 1 1 1 1e+08 0 0.001 1 1e+06 0 -180 45 0 315 0 225 1 1 0 "Frequency [Hz]" "Gain [dB]" "Phase [degre]">
	<"ngspice/ac1.ac.v(out)@ac1.frequency" #ff0000 2 3 0 0 0>
	  <Mkr 1.09548e+06 18 -56 3 0 0>
	  <Mkr 0.1 130 -215 3 0 0>
	<"ngspice/ac1.ac.phase@ac1.frequency" #0000ff 2 3 0 0 1>
  </Rect>
  <Rect 870 1010 271 200 3 #c0c0c0 1 00 1 -0.0004 0.0002 0.0004 0 0.4 0.1 1.2 1 -1 0.5 1 315 0 225 0 0 0 "Vid [V]" "Vout [V]" "">
	<"ngspice/sw2.v(out)@sw2.v(v-sweep)" #ff0000 2 3 0 0 0>
	  <Mkr 6.3e-07 193 -103 3 0 0>
  </Rect>
  <Rect 864 1269 282 199 3 #c0c0c0 1 11 1 1 1 1e+08 1 1e-08 1 0.0001 1 -1 0.5 1 315 0 225 1 0 0 "Frequency [Hz]" "Input Referred Noise [V/sqrt(Hz)]" "">
	<"ngspice/noise1.ac.inoise_spectrum@noise1.frequency" #ff0000 2 3 0 0 0>
	  <Mkr 1 60 -219 3 0 0>
	  <Mkr 1.937e+06 92 -150 3 0 0>
  </Rect>
</Diagrams>
<Paintings>
  <Text 490 10 12 #000000 0 "This example shows the schematic and simulation of the folded-cascode OTA.\nThe OTA has been designed in the corresponding Quarto notebook.">
</Paintings>
