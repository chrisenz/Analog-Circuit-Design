<Qucs Schematic 25.1.0>
<Properties>
  <View=-188,-60,1512,1367,0.941041,0,0>
  <Grid=10,10,1>
  <DataSet=Symmetrical_OTA.dat>
  <DataDisplay=Symmetrical_OTA.dpl>
  <OpenDisplay=0>
  <Script=Simple_OTA_v2.m>
  <RunScript=0>
  <showFrame=0>
  <FrameText0=Simulation of the symmetrical OTA>
  <FrameText1=Drawn By: Christian Enz>
  <FrameText2=Date: 12.08.2025>
  <FrameText3=Revision: 1>
</Properties>
<Symbol>
  <.ID -20 -16 SUB>
  <Line -20 20 40 0 #000080 2 1>
  <Line 20 20 0 -40 #000080 2 1>
  <Line -20 -20 40 0 #000080 2 1>
  <Line -20 20 0 -40 #000080 2 1>
</Symbol>
<Components>
  <SpiceInclude SpiceInclude1 1 60 120 -31 18 0 0 "ekv018va.par" 1 "size_bias.par" 1 "" 0 "" 0 "" 0>
  <Idc Ib 1 310 170 -56 -26 0 3 "{2*Ib}" 1>
  <Vdc Vb2 1 800 440 18 -26 0 1 "{Vb2}" 1>
  <Vdc Vb1 1 960 430 18 -26 0 1 "{Vb1}" 1>
  <Vdc VDD 1 1040 320 18 -26 0 1 "{VDD}" 1>
  <C CL 1 880 410 17 -26 0 1 "{CL}" 1 "" 0 "neutral" 0>
  <GND * 1 600 520 0 0 0 0>
  <MOS_SPICE M1a 1 550 270 6 -23 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W1} L={L1}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M1b 1 650 270 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W1} L={L1}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M2c 1 450 170 -26 9 0 2 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M2a 1 550 170 5 7 1 0 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M2b 1 650 170 -26 9 0 2 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M2d 1 750 170 5 7 1 0 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W2} L={L2}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M5a 1 310 390 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W5} L={L5}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M5b 1 600 390 5 -20 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W5} L={L5}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M3a 1 450 460 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W3} L={L3}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M3b 1 750 460 5 -20 0 0 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W3} L={L3}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M7 1 750 380 -27 -23 1 2 "N" 0 "4" 0 "nmos" 0 "ekvn_va W={W7} L={L7}" 0 "" 0 "" 0 "" 0 "" 0>
  <MOS_SPICE M4 1 750 250 -26 9 0 2 "N" 0 "4" 0 "pmos" 0 "ekvp_va W={W4} L={L4}" 0 "" 0 "" 0 "" 0 "" 0>
  <VCVS SRC1 1 650 610 39 -15 0 0 "0.5" 1 "0" 0>
  <GND * 1 600 740 0 0 0 0>
  <GND * 1 600 640 0 0 0 0>
  <GND * 1 390 700 0 0 0 0>
  <Vdc Vid 1 390 670 18 -26 0 1 "{Vos}" 1>
  <Vac Vin 1 390 590 18 -26 0 1 "1 V" 1 "1 kHz" 0 "0" 0 "0" 0 "0" 0 "0" 0>
  <Vdc Vic 1 600 710 18 -26 0 1 "{Vic}" 1>
  <VCVS SRC2 1 550 610 -69 -15 1 2 "-0.5" 1 "0" 0>
  <.SW SW1 1 20 900 0 54 0 0 "DC1" 1 "lin" 1 "Vid" 1 "-0.9" 1 "0.9" 1 "1001" 1>
  <.DC DC1 1 20 820 0 33 0 0 "26.85" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "yes" 0 "150" 0 "no" 0 "none" 0 "CroutLU" 0>
  <.AC AC1 1 20 1100 0 33 0 0 "log" 1 "0.1 Hz" 1 "100 MEG" 1 "809" 0 "yes" 1>
  <Eqn Eqn1 1 50 1240 -31 17 0 0 "Gain_dB=dB(out.v/id.v)" 1 "Phase=(cph(out.v)-cph(id.v))*180/pi" 1 "yes" 0>
  <.DC DC2 1 600 820 0 33 0 0 "26.85" 0 "0.001" 0 "1 pA" 0 "1 uV" 0 "yes" 0 "150" 0 "no" 0 "none" 0 "CroutLU" 0>
  <.NOISE NOISE1 1 600 1110 0 54 0 0 "log" 1 "1 Hz" 1 "100 MHz" 1 "809" 0 "v(out)" 1 "Vin" 1>
  <.SW SW2 1 600 900 0 54 0 0 "DC2" 1 "lin" 1 "Vid" 1 "60e-6" 1 "85e-6" 1 "1001" 1>
</Components>
<Wires>
  <340 390 360 390 "" 0 0 0 "">
  <360 340 360 390 "" 0 0 0 "">
  <310 200 310 340 "" 0 0 0 "">
  <310 340 310 360 "" 0 0 0 "">
  <310 340 360 340 "" 0 0 0 "">
  <310 120 310 140 "" 0 0 0 "">
  <360 390 570 390 "n8" 420 360 46 "">
  <550 300 550 320 "" 0 0 0 "">
  <650 300 650 320 "" 0 0 0 "">
  <550 320 570 320 "" 0 0 0 "">
  <570 270 570 320 "" 0 0 0 "">
  <630 320 650 320 "" 0 0 0 "">
  <630 270 630 320 "" 0 0 0 "">
  <570 320 600 320 "n1" 610 290 10 "">
  <600 320 630 320 "" 0 0 0 "">
  <600 320 600 360 "" 0 0 0 "">
  <620 390 620 510 "" 0 0 0 "">
  <290 390 290 510 "" 0 0 0 "">
  <600 420 600 510 "" 0 0 0 "">
  <310 420 310 510 "" 0 0 0 "">
  <290 510 310 510 "" 0 0 0 "">
  <600 510 620 510 "" 0 0 0 "">
  <550 120 550 140 "" 0 0 0 "">
  <450 120 550 120 "" 0 0 0 "">
  <450 120 450 140 "" 0 0 0 "">
  <650 120 650 140 "" 0 0 0 "">
  <750 120 770 120 "" 0 0 0 "">
  <750 120 750 140 "" 0 0 0 "">
  <310 120 430 120 "" 0 0 0 "">
  <430 120 450 120 "" 0 0 0 "">
  <430 120 430 170 "" 0 0 0 "">
  <550 120 570 120 "" 0 0 0 "">
  <570 120 570 170 "" 0 0 0 "">
  <570 120 630 120 "vdd" 620 80 33 "">
  <630 120 650 120 "" 0 0 0 "">
  <630 120 630 170 "" 0 0 0 "">
  <750 200 750 220 "n6" 770 190 11 "">
  <550 200 550 220 "" 0 0 0 "">
  <550 220 550 240 "" 0 0 0 "">
  <500 220 550 220 "" 0 0 0 "">
  <480 170 500 170 "n2" 500 140 8 "">
  <500 170 520 170 "" 0 0 0 "">
  <500 170 500 220 "" 0 0 0 "">
  <650 200 650 220 "" 0 0 0 "">
  <650 220 650 240 "" 0 0 0 "">
  <650 220 700 220 "" 0 0 0 "">
  <680 170 700 170 "n4" 680 140 9 "">
  <700 170 720 170 "" 0 0 0 "">
  <700 170 700 220 "" 0 0 0 "">
  <450 510 600 510 "" 0 0 0 "">
  <450 490 450 510 "" 0 0 0 "">
  <310 510 430 510 "" 0 0 0 "">
  <430 510 450 510 "" 0 0 0 "">
  <430 460 430 510 "" 0 0 0 "">
  <750 510 770 510 "" 0 0 0 "">
  <750 490 750 510 "" 0 0 0 "">
  <770 460 770 510 "" 0 0 0 "">
  <750 410 750 430 "n5" 770 400 11 "">
  <450 200 450 410 "" 0 0 0 "">
  <450 410 450 430 "" 0 0 0 "">
  <450 410 500 410 "" 0 0 0 "">
  <480 460 500 460 "" 0 0 0 "">
  <500 460 720 460 "n3" 560 430 41 "">
  <500 410 500 460 "" 0 0 0 "">
  <710 380 730 380 "" 0 0 0 "">
  <620 510 710 510 "" 0 0 0 "">
  <710 510 750 510 "" 0 0 0 "">
  <710 380 710 510 "" 0 0 0 "">
  <710 250 730 250 "" 0 0 0 "">
  <650 120 710 120 "" 0 0 0 "">
  <710 120 750 120 "" 0 0 0 "">
  <710 120 710 250 "" 0 0 0 "">
  <770 120 770 170 "" 0 0 0 "">
  <780 380 800 380 "" 0 0 0 "">
  <800 380 800 410 "vb2" 820 370 16 "">
  <770 510 800 510 "" 0 0 0 "">
  <800 470 800 510 "" 0 0 0 "">
  <780 250 960 250 "vb1" 850 220 60 "">
  <960 460 960 510 "" 0 0 0 "">
  <960 250 960 400 "" 0 0 0 "">
  <960 510 1040 510 "" 0 0 0 "">
  <1040 350 1040 510 "" 0 0 0 "">
  <770 120 1040 120 "" 0 0 0 "">
  <1040 120 1040 290 "" 0 0 0 "">
  <750 280 750 320 "" 0 0 0 "">
  <750 320 750 350 "" 0 0 0 "">
  <750 320 880 320 "out" 830 290 60 "">
  <880 320 880 380 "" 0 0 0 "">
  <800 510 880 510 "" 0 0 0 "">
  <880 510 960 510 "" 0 0 0 "">
  <880 440 880 510 "" 0 0 0 "">
  <600 510 600 520 "" 0 0 0 "">
  <520 640 520 680 "" 0 0 0 "">
  <520 680 600 680 "" 0 0 0 "">
  <680 640 680 680 "" 0 0 0 "">
  <600 680 680 680 "ic" 660 650 39 "">
  <580 640 600 640 "" 0 0 0 "">
  <600 640 620 640 "" 0 0 0 "">
  <580 580 600 580 "" 0 0 0 "">
  <600 580 620 580 "" 0 0 0 "">
  <600 560 600 580 "" 0 0 0 "">
  <390 560 600 560 "id" 480 530 69 "">
  <390 620 390 640 "id0" 420 600 11 "">
  <520 270 520 580 "inn" 480 310 73 "">
  <680 270 680 580 "inp" 710 310 70 "">
</Wires>
<Diagrams>
  <Rect 240 1020 285 200 3 #c0c0c0 1 00 0 -1 0.2 1 0 0 0.2 1.8 1 -1 0.5 1 315 0 225 0 0 0 "Vid [V]" "Vout [V]" "">
	<"ngspice/Symmetrical_OTA:sw1.v(out)@sw1.v(id)" #ff0000 2 3 0 0 0>
  </Rect>
  <Rect 800 1020 271 200 3 #c0c0c0 1 00 1 7e-05 5e-06 9e-05 0 0.4 0.1 1.4 1 -1 0.5 1 315 0 225 0 0 0 "Vid [V]" "Vout [V]" "">
	<"ngspice/Symmetrical_OTA:sw2.v(out)@sw2.v(id)" #ff0000 2 3 0 0 0>
	  <Mkr 7.3775e-05 209 -160 3 0 0>
  </Rect>
  <Rect 794 1279 282 199 3 #c0c0c0 1 11 1 1 1 1e+08 1 1e-08 1 0.0001 1 -1 0.5 1 315 0 225 1 0 0 "Frequency [Hz]" "Input Referred Noise [V/sqrt(Hz)]" "">
	<"ngspice/Symmetrical_OTA:noise1.ac.inoise_spectrum@noise1.frequency" #ff0000 2 3 0 0 0>
	  <Mkr 1 60 -238 3 0 0>
	  <Mkr 2.85394e+06 288 -105 3 0 0>
  </Rect>
  <Rect 240 1280 290 195 3 #c0c0c0 1 11 1 1 1 1e+08 0 0.001 1 1e+06 0 -270 45 0 315 0 225 1 1 0 "Frequency [Hz]" "Gain [dB]" "Phase [degre]">
	<"ngspice/Symmetrical_OTA:ac1.ac.v(out)@ac1.frequency" #ff0000 2 3 0 0 0>
	  <Mkr 1.02591e+06 -74 -55 3 0 0>
	  <Mkr 0.1 100 -217 3 0 0>
	<"ngspice/Symmetrical_OTA:ac1.ac.phase@ac1.frequency" #0000ff 2 3 0 0 1>
  </Rect>
</Diagrams>
<Paintings>
  <Text 380 20 12 #000000 0 "This example shows the schematic and simulation of the symmetrical cascoded OTA.\nThe OTA has been designed in the corresponding Quarto notebook.">
</Paintings>
